from functools import partial
from typing import List, Any
import main
import pyaudio
import wave
from PIL import Image, ImageTk
import time
import sys
import subprocess
import numpy as np
import sounddevice as sd
import logging
import threading
import trace
import audioop
import math
import noisereduce as nr
import io
from signal import signal, SIGTERM

state = True
CHUNK = 1024
FORMAT = pyaudio.paInt16
CHANNELS = 2
RATE = 44100

p = pyaudio.PyAudio()
global frames
frames = []

stream = p.open(format=FORMAT,
                channels=CHANNELS,
                rate=RATE,
                input=True,
                frames_per_buffer=CHUNK)
player = p.open(format=pyaudio.paInt16, channels=1, rate=RATE, output=True,
                frames_per_buffer=CHUNK)

def stateDegistir(ChangeState):
    global state
    state = ChangeState

def getFrames():
    return frames



def NoiseGate(q,q2):
    print("Multiprocessing started....")
    """According to my """
    zeroSound2 = b'\x0e\x00\x0b\x00\x0f\x00\n\x00\t\x00\x08\x00\x0b\x00\x06\x00\x0c\x00\x03\x00\x0e\x00\x08\x00\x11\x00\x08\x00\x0e\x00\x06\x00\x0c\x00\n\x00\x0e\x00\n\x00\x08\x00\x0b\x00\x07\x00\t\x00\x0b\x00\x07\x00\x0f\x00\x06\x00\n\x00\x05\x00\x0c\x00\x04\x00\n\x00\x03\x00\r\x00\x04\x00\r\x00\x05\x00\t\x00\x07\x00\x07\x00\x02\x00\t\x00\xff\xff\x07\x00\x04\x00\x04\x00\x01\x00\n\x00\x01\x00\x07\x00\x00\x00\n\x00\x01\x00\x07\x00\x03\x00\t\x00\x02\x00\x07\x00\x04\x00\n\x00\x03\x00\x04\x00\x03\x00\t\x00\x05\x00\x04\x00\x01\x00\x07\x00\x06\x00\t\x00\x0b\x00\t\x00\x05\x00\x0b\x00\x07\x00\x0b\x00\x07\x00\x11\x00\x07\x00\x0c\x00\x07\x00\r\x00\n\x00\t\x00\x07\x00\x0b\x00\x08\x00\x0c\x00\x05\x00\x08\x00\x03\x00\t\x00\x03\x00\x0c\x00\x03\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x04\x00\x05\x00\x02\x00\x01\x00\x03\x00\n\x00\x03\x00\x03\x00\x02\x00\x03\x00\x02\x00\x03\x00\x00\x00\x04\x00\x01\x00\x05\x00\xff\xff\x07\x00\xfe\xff\x06\x00\xfe\xff\x08\x00\x02\x00\n\x00\x00\x00\x06\x00\xfe\xff\x0b\x00\x03\x00\x05\x00\x00\x00\x05\x00\xfb\xff\x04\x00\xfc\xff\x08\x00\xfa\xff\x06\x00\xfd\xff\t\x00\x03\x00\x06\x00\xfc\xff\x06\x00\x02\x00\x02\x00\x00\x00\x01\x00\xff\xff\xff\xff\x00\x00\x00\x00\xfe\xff\x00\x00\xfd\xff\x01\x00\xfb\xff\x00\x00\xfb\xff\xfe\xff\xf9\xff\x02\x00\xf9\xff\xff\xff\xf6\xff\x00\x00\xf2\xff\xfa\xff\xf2\xff\xfa\xff\xf1\xff\xfa\xff\xf1\xff\x01\x00\xf3\xff\xfd\xff\xf0\xff\xff\xff\xf3\xff\xfe\xff\xf6\xff\x00\x00\xf6\xff\xfb\xff\xf2\xff\xfb\xff\xf6\xff\xfb\xff\xf6\xff\xf9\xff\xf4\xff\xf8\xff\xf9\xff\xf8\xff\xf8\xff\xf7\xff\xf6\xff\xf7\xff\xf7\xff\xfb\xff\xf6\xff\xf8\xff\xf4\xff\xf7\xff\xf4\xff\xf3\xff\xf0\xff\xfb\xff\xf1\xff\xf4\xff\xf2\xff\xfa\xff\xef\xff\xfa\xff\xef\xff\xf6\xff\xed\xff\xf4\xff\xec\xff\xf6\xff\xec\xff\xf3\xff\xec\xff\xf7\xff\xec\xff\xf4\xff\xee\xff\xf7\xff\xf1\xff\xf7\xff\xf4\xff\xf6\xff\xf3\xff\xfc\xff\xf4\xff\xf8\xff\xf3\xff\xf5\xff\xf4\xff\xf4\xff\xf2\xff\xf8\xff\xef\xff\xf3\xff\xf3\xff\xf4\xff\xf7\xff\xf7\xff\xf1\xff\xf9\xff\xf1\xff\xf0\xff\xef\xff\xf4\xff\xf0\xff\xef\xff\xec\xff\xf1\xff\xeb\xff\xf1\xff\xe9\xff\xec\xff\xe8\xff\xf1\xff\xee\xff\xf0\xff\xed\xff\xf1\xff\xed\xff\xf1\xff\xf2\xff\xf1\xff\xee\xff\xf1\xff\xee\xff\xf1\xff\xee\xff\xf4\xff\xec\xff\xf2\xff\xef\xff\xf0\xff\xef\xff\xf2\xff\xf1\xff\xee\xff\xed\xff\xf2\xff\xf0\xff\xf1\xff\xe9\xff\xf4\xff\xec\xff\xf1\xff\xef\xff\xf2\xff\xea\xff\xf0\xff\xf1\xff\xf2\xff\xf1\xff\xf2\xff\xf8\xff\xf1\xff\xf7\xff\xf3\xff\xf3\xff\xf5\xff\xf2\xff\xf4\xff\xf4\xff\xf2\xff\xf1\xff\xf1\xff\xee\xff\xf1\xff\xf3\xff\xf0\xff\xf0\xff\xf1\xff\xef\xff\xf6\xff\xf0\xff\xef\xff\xec\xff\xf3\xff\xed\xff\xed\xff\xf2\xff\xf3\xff\xe9\xff\xf2\xff\xea\xff\xf0\xff\xe9\xff\xef\xff\xea\xff\xf3\xff\xee\xff\xef\xff\xed\xff\xf0\xff\xee\xff\xec\xff\xee\xff\xec\xff\xee\xff\xee\xff\xeb\xff\xea\xff\xe8\xff\xec\xff\xec\xff\xec\xff\xea\xff\xed\xff\xe9\xff\xe8\xff\xea\xff\xef\xff\xea\xff\xed\xff\xeb\xff\xed\xff\xed\xff\xed\xff\xef\xff\xef\xff\xef\xff\xed\xff\xef\xff\xee\xff\xea\xff\xec\xff\xed\xff\xee\xff\xef\xff\xed\xff\xee\xff\xed\xff\xf0\xff\xeb\xff\xe8\xff\xec\xff\xe9\xff\xeb\xff\xec\xff\xec\xff\xeb\xff\xed\xff\xec\xff\xe9\xff\xea\xff\xe8\xff\xea\xff\xe5\xff\xea\xff\xf0\xff\xec\xff\xea\xff\xe8\xff\xe9\xff\xe7\xff\xe7\xff\xe8\xff\xea\xff\xe8\xff\xe4\xff\xe7\xff\xe5\xff\xe8\xff\xe2\xff\xe7\xff\xe4\xff\xe9\xff\xe8\xff\xe8\xff\xeb\xff\xe6\xff\xe7\xff\xe8\xff\xe9\xff\xe8\xff\xe9\xff\xe2\xff\xe6\xff\xe4\xff\xe4\xff\xe8\xff\xe4\xff\xe0\xff\xed\xff\xe6\xff\xe9\xff\xeb\xff\xef\xff\xec\xff\xe9\xff\xea\xff\xee\xff\xe7\xff\xee\xff\xea\xff\xed\xff\xea\xff\xe8\xff\xe6\xff\xeb\xff\xe7\xff\xec\xff\xe9\xff\xeb\xff\xe9\xff\xeb\xff\xe7\xff\xea\xff\xe7\xff\xe9\xff\xea\xff\xe8\xff\xeb\xff\xe6\xff\xe7\xff\xe7\xff\xe3\xff\xe6\xff\xe3\xff\xe7\xff\xe5\xff\xe7\xff\xe5\xff\xe9\xff\xe3\xff\xea\xff\xe3\xff\xe8\xff\xe6\xff\xed\xff\xec\xff\xea\xff\xea\xff\xe8\xff\xe7\xff\xe7\xff\xe7\xff\xea\xff\xeb\xff\xe5\xff\xe7\xff\xeb\xff\xe7\xff\xea\xff\xec\xff\xee\xff\xe8\xff\xea\xff\xe8\xff\xe6\xff\xe7\xff\xe8\xff\xe8\xff\xe7\xff\xe7\xff\xe4\xff\xe7\xff\xe9\xff\xea\xff\xe5\xff\xe5\xff\xe5\xff\xe8\xff\xe8\xff\xe4\xff\xe7\xff\xe4\xff\xe8\xff\xe8\xff\xe8\xff\xe6\xff\xe8\xff\xe5\xff\xe5\xff\xe9\xff\xe6\xff\xe8\xff\xe1\xff\xe2\xff\xe2\xff\xe1\xff\xe0\xff\xe1\xff\xe3\xff\xe0\xff\xdf\xff\xdf\xff\xe5\xff\xe3\xff\xe2\xff\xe4\xff\xe5\xff\xe5\xff\xe2\xff\xe1\xff\xe3\xff\xe1\xff\xe7\xff\xe3\xff\xe5\xff\xe4\xff\xeb\xff\xe8\xff\xe3\xff\xe4\xff\xe5\xff\xe3\xff\xe1\xff\xe7\xff\xe4\xff\xe7\xff\xe0\xff\xe3\xff\xe7\xff\xe2\xff\xe7\xff\xe5\xff\xe6\xff\xe3\xff\xe6\xff\xe3\xff\xe7\xff\xe8\xff\xe5\xff\xe2\xff\xe5\xff\xdf\xff\xe5\xff\xe6\xff\xe5\xff\xe4\xff\xe2\xff\xe0\xff\xe8\xff\xe5\xff\xe8\xff\xe3\xff\xe6\xff\xe7\xff\xe6\xff\xe8\xff\xe3\xff\xe5\xff\xe5\xff\xe6\xff\xdf\xff\xe0\xff\xe6\xff\xe7\xff\xe2\xff\xe9\xff\xe6\xff\xe8\xff\xe0\xff\xe6\xff\xe4\xff\xe5\xff\xe8\xff\xe6\xff\xe5\xff\xe5\xff\xe2\xff\xe4\xff\xe8\xff\xe7\xff\xeb\xff\xe6\xff\xe8\xff\xe6\xff\xe6\xff\xe7\xff\xe7\xff\xe7\xff\xe9\xff\xec\xff\xea\xff\xea\xff\xea\xff\xe9\xff\xe2\xff\xe9\xff\xe9\xff\xec\xff\xe9\xff\xe9\xff\xe7\xff\xe9\xff\xe8\xff\xea\xff\xed\xff\xe9\xff\xea\xff\xeb\xff\xeb\xff\xe9\xff\xea\xff\xe9\xff\xea\xff\xeb\xff\xe9\xff\xe8\xff\xed\xff\xe8\xff\xee\xff\xeb\xff\xf2\xff\xeb\xff\xed\xff\xea\xff\xee\xff\xee\xff\xeb\xff\xea\xff\xeb\xff\xed\xff\xed\xff\xef\xff\xe9\xff\xeb\xff\xef\xff\xed\xff\xed\xff\xef\xff\xee\xff\xee\xff\xed\xff\xeb\xff\xf1\xff\xf0\xff\xee\xff\xef\xff\xef\xff\xed\xff\xef\xff\xeb\xff\xf1\xff\xed\xff\xed\xff\xec\xff\xf0\xff\xee\xff\xec\xff\xee\xff\xeb\xff\xe9\xff\xef\xff\xe9\xff\xee\xff\xeb\xff\xec\xff\xec\xff\xed\xff\xea\xff\xef\xff\xec\xff\xeb\xff\xed\xff\xe9\xff\xee\xff\xea\xff\xe9\xff\xec\xff\xea\xff\xec\xff\xeb\xff\xf2\xff\xec\xff\xf0\xff\xf0\xff\xf0\xff\xeb\xff\xef\xff\xe9\xff\xf1\xff\xeb\xff\xf2\xff\xee\xff\xf2\xff\xee\xff\xeb\xff\xf0\xff\xeb\xff\xeb\xff\xef\xff\xe9\xff\xf0\xff\xeb\xff\xed\xff\xee\xff\xeb\xff\xf0\xff\xee\xff\xf1\xff\xed\xff\xf2\xff\xec\xff\xf0\xff\xea\xff\xea\xff\xf1\xff\xeb\xff\xee\xff\xec\xff\xef\xff\xf4\xff\xef\xff\xed\xff\xf2\xff\xe9\xff\xec\xff\xed\xff\xf2\xff\xf1\xff\xf1\xff\xf0\xff\xed\xff\xf3\xff\xe9\xff\xef\xff\xf2\xff\xed\xff\xf0\xff\xef\xff\xeb\xff\xee\xff\xf1\xff\xf2\xff\xeb\xff\xf2\xff\xf0\xff\xef\xff\xf0\xff\xef\xff\xef\xff\xf0\xff\xf3\xff\xe9\xff\xf6\xff\xed\xff\xf1\xff\xf0\xff\xf3\xff\xf1\xff\xee\xff\xef\xff\xf0\xff\xf2\xff\xee\xff\xf1\xff\xef\xff\xf2\xff\xf4\xff\xf6\xff\xf2\xff\xf3\xff\xef\xff\xf0\xff\xf0\xff\xf3\xff\xec\xff\xf3\xff\xee\xff\xf1\xff\xf4\xff\xf3\xff\xf1\xff\xf4\xff\xf2\xff\xf6\xff\xf5\xff\xf5\xff\xf2\xff\xf9\xff\xef\xff\xf6\xff\xf9\xff\xf5\xff\xf8\xff\xef\xff\xf9\xff\xf5\xff\xf4\xff\xf6\xff\xf5\xff\xf6\xff\xf4\xff\xf9\xff\xf5\xff\xf4\xff\xf6\xff\xf4\xff\xf6\xff\xf6\xff\xfa\xff\xf8\xff\xf9\xff\xf8\xff\xf8\xff\xfa\xff\xf9\xff\xf7\xff\xf9\xff\xf5\xff\xf8\xff\xfa\xff\xf7\xff\xfb\xff\xfa\xff\xfa\xff\xfb\xff\xfa\xff\xf8\xff\xf7\xff\xf8\xff\xfa\xff\xfb\xff\xfc\xff\xfd\xff\xfa\xff\xfc\xff\xfa\xff\xfc\xff\xf5\xff\xfc\xff\xf6\xff\xfd\xff\xf6\xff\xfb\xff\xf7\xff\xff\xff\xf6\xff\xfa\xff\xfa\xff\xfb\xff\xf9\xff\xfb\xff\xf9\xff\xfa\xff\xfb\xff\xf9\xff\xfb\xff\xf9\xff\xfa\xff\xfe\xff\xfe\xff\xfd\xff\xff\xff\xfd\xff\xfa\xff\xfb\xff\xfb\xff\xfd\xff\xff\xff\xfe\xff\xf9\xff\x00\x00\xfa\xff\xfe\xff\xfd\xff\xfe\xff\xfc\xff\xfd\xff\xff\xff\x01\x00\xff\xff\xfd\xff\xfb\xff\xfe\xff\xfe\xff\xfc\xff\x00\x00\xff\xff\x00\x00\x00\x00\xff\xff\x03\x00\x02\x00\x03\x00\x05\x00\xfb\xff\x01\x00\x01\x00\x00\x00\x01\x00\x01\x00\x01\x00\x04\x00\x01\x00\xff\xff\x05\x00\x01\x00\xfe\xff\x02\x00\x00\x00\xfd\xff\x00\x00\xfa\xff\xff\xff\xff\xff\xfd\xff\xfb\xff\x02\x00\xfa\xff\x01\x00\xfd\xff\x01\x00\xfc\xff\x00\x00\xfa\xff\x03\x00\xfc\xff\x06\x00\xff\xff\x04\x00\xfc\xff\x01\x00\xfe\xff\x03\x00\xfc\xff\x03\x00\xff\xff\x01\x00\x03\x00\x02\x00\x02\x00\xff\xff\x03\x00\x03\x00\x07\x00\xff\xff\x05\x00\x02\x00\x04\x00\x00\x00\x01\x00\xfd\xff\xff\xff\xfb\xff\xff\xff\xff\xff\xff\xff\x02\x00\x01\x00\x04\x00\x01\x00\x02\x00\x04\x00\x06\x00\x01\x00\x05\x00\xfd\xff\x00\x00\xfe\xff\x00\x00\xfe\xff\x04\x00\x01\x00\x05\x00\x04\x00\xfd\xff\x03\x00\x00\x00\x04\x00\x04\x00\x00\x00\x05\x00\x00\x00\x02\x00\x01\x00\x07\x00\x02\x00\x02\x00\xfc\xff\x01\x00\xfd\xff\xfe\xff\x01\x00\xff\xff\xfd\xff\x01\x00\x01\x00\x07\x00\x03\x00\x07\x00\x01\x00\x07\x00\x04\x00\x05\x00\x07\x00\x05\x00\x03\x00\x05\x00\x03\x00\x08\x00\x05\x00\x02\x00\x03\x00\x03\x00\x05\x00\t\x00\x08\x00\x07\x00\x03\x00\x05\x00\x06\x00\x04\x00\x05\x00\x04\x00\x03\x00\x02\x00\x07\x00\x03\x00\x04\x00\x03\x00\x00\x00\x07\x00\x04\x00\x07\x00\x00\x00\x06\x00\x00\x00\x05\x00\x05\x00\x08\x00\x06\x00\x03\x00\x04\x00\x07\x00\x05\x00\n\x00\x04\x00\x07\x00\x03\x00\t\x00\x04\x00\n\x00\x08\x00\x08\x00\t\x00\x08\x00\x07\x00\x08\x00\x07\x00\x08\x00\r\x00\x05\x00\x0c\x00\x03\x00\x08\x00\n\x00\t\x00\x08\x00\t\x00\x0b\x00\n\x00\x08\x00\x08\x00\x07\x00\x0b\x00\x05\x00\x07\x00\x08\x00\t\x00\x08\x00\x06\x00\x06\x00\x07\x00\x07\x00\n\x00\x0c\x00\n\x00\t\x00\x08\x00\x05\x00\n\x00\x07\x00\x08\x00\x08\x00\n\x00\t\x00\n\x00\x08\x00\x07\x00\t\x00\n\x00\x06\x00\x07\x00\x0e\x00\x07\x00\t\x00\x06\x00\x07\x00\x08\x00\x08\x00\x05\x00\x08\x00\x03\x00\x05\x00\x05\x00\x03\x00\x00\x00\x06\x00\x05\x00\x07\x00\t\x00\x06\x00\t\x00\r\x00\n\x00\x0c\x00\t\x00\x07\x00\x08\x00\x07\x00\r\x00\x0f\x00\x0e\x00\n\x00\n\x00\x07\x00\x0b\x00\x0b\x00\x0c\x00\x07\x00\x0b\x00\x08\x00\n\x00\x04\x00\r\x00\x08\x00\x06\x00\n\x00\x06\x00\n\x00\x07\x00\x06\x00\x07\x00\x08\x00\n\x00\x05\x00\x0b\x00\x0b\x00\x08\x00\x08\x00\x07\x00\x06\x00\x08\x00\n\x00\x08\x00\x08\x00\x0c\x00\r\x00\n\x00\x0b\x00\x0e\x00\n\x00\r\x00\t\x00\x0f\x00\t\x00\x10\x00\x08\x00\x0f\x00\x07\x00\r\x00\x08\x00\x0b\x00\x0c\x00\x0e\x00\x08\x00\r\x00\x0b\x00\x0b\x00\n\x00\x07\x00\x0c\x00\n\x00\r\x00\t\x00\x0e\x00\x08\x00\x12\x00\x0c\x00\x10\x00\r\x00\x0e\x00\x0b\x00\r\x00\x0c\x00\x0b\x00\x0e\x00\x0c\x00\x0f\x00\r\x00\x10\x00\x0e\x00\x10\x00\x10\x00\x11\x00\x0b\x00\x11\x00\x0f\x00\x0f\x00\x0e\x00\x0f\x00\r\x00\x12\x00\x0e\x00\x0e\x00\x11\x00\x10\x00\r\x00\x11\x00\x13\x00\x12\x00\r\x00\x10\x00\x0e\x00\x13\x00\x10\x00\x13\x00\x0e\x00\x10\x00\x0b\x00\r\x00\x0f\x00\x13\x00\x0f\x00\x12\x00\x0f\x00\x12\x00\x11\x00\x11\x00\x0f\x00\x11\x00\x10\x00\x0c\x00\x0b\x00\x0e\x00\x10\x00\x12\x00\x0b\x00\r\x00\x0f\x00\x10\x00\x0c\x00\x0c\x00\x0e\x00\r\x00\x0f\x00\x0f\x00\x0b\x00\x11\x00\x06\x00\x08\x00\x08\x00\x0c\x00\x0c\x00\x0e\x00\x0e\x00\x0c\x00\n\x00\x0f\x00\r\x00\x11\x00\x0c\x00\x0f\x00\x0c\x00\x11\x00\x11\x00\x12\x00\x0b\x00\x0e\x00\r\x00\x11\x00\r\x00\x13\x00\x10\x00\x12\x00\x0c\x00\x15\x00\r\x00\x0f\x00\n\x00\x0e\x00\x0e\x00\x12\x00\x0b\x00\x0f\x00\x0e\x00\x11\x00\r\x00\x11\x00\r\x00\x13\x00\x0c\x00\x0e\x00\x0e\x00\r\x00\n\x00\r\x00\x0e\x00\x0b\x00\x0f\x00\t\x00\r\x00\x0b\x00\x0e\x00\r\x00\x07\x00\x0b\x00\t\x00\r\x00\x08\x00\x0f\x00\t\x00\x0b\x00\x07\x00\x0f\x00\x0b\x00\x12\x00\x08\x00\n\x00\x0b\x00\x0b\x00\x0b\x00\x0e\x00\r\x00\x0c\x00\x08\x00\t\x00\x0c\x00\x0c\x00\x0e\x00\r\x00\x0b\x00\x0b\x00\x0b\x00\x0c\x00\x0c\x00\x0e\x00\x0e\x00\x11\x00\x0e\x00\x11\x00\r\x00\x0c\x00\x0e\x00\x0e\x00\x10\x00\x12\x00\r\x00\x11\x00\x0e\x00\x11\x00\x10\x00\x14\x00\x13\x00\x18\x00\x0f\x00\x18\x00\x11\x00\x18\x00\x0e\x00\x16\x00\r\x00\x14\x00\x0b\x00\x11\x00\r\x00\x0f\x00\x10\x00\x10\x00\x11\x00\x16\x00\x0b\x00\x11\x00\x0e\x00\x0e\x00\x10\x00\x12\x00\x12\x00\x13\x00\x11\x00\x11\x00\x0e\x00\x11\x00\x0f\x00\x15\x00\x0c\x00\x16\x00\x0f\x00\x14\x00\x0b\x00\x11\x00\x0c\x00\x10\x00\x08\x00\x0e\x00\x0c\x00\x12\x00\r\x00\x15\x00\x10\x00\x14\x00\x0e\x00\x13\x00\r\x00\x15\x00\r\x00\x17\x00\r\x00\x10\x00\x0c\x00\x0f\x00\x10\x00\x10\x00\x10\x00\x10\x00\x0b\x00\x0f\x00\x10\x00\x11\x00\x0c\x00\x12\x00\n\x00\x12\x00\x0f\x00\x12\x00\x0e\x00\x12\x00\x0f\x00\x12\x00\x0f\x00\x16\x00\r\x00\x13\x00\x11\x00\x12\x00\t\x00\x11\x00\x12\x00\x10\x00\x12\x00\x12\x00\x0c\x00\x0f\x00\x0b\x00\x14\x00\x0c\x00\x14\x00\n\x00\x11\x00\x0b\x00\x12\x00\x0b\x00\x0f\x00\r\x00\x13\x00\x0f\x00\x18\x00\x0f\x00\x15\x00\x10\x00\x14\x00\x10\x00\x17\x00\x14\x00\x15\x00\x10\x00\x16\x00\x14\x00\x14\x00\x13\x00\x13\x00\x17\x00\x16\x00\x13\x00\x18\x00\x15\x00\x17\x00\x13\x00\x19\x00\x13\x00\x1b\x00\x18\x00\x16\x00\x19\x00\x17\x00\x14\x00\x14\x00\x16\x00\x11\x00\x17\x00\x19\x00\x14\x00\x19\x00\x17\x00\x19\x00\x15\x00\x17\x00\x13\x00\x15\x00\x14\x00\x14\x00\x16\x00\x14\x00\x10\x00\x14\x00\x10\x00\x12\x00\x0b\x00\x16\x00\x14\x00\x16\x00\x0f\x00\x12\x00\x0f\x00\x11\x00\x0e\x00\x15\x00\x13\x00\x13\x00\x10\x00\x0e\x00\x11\x00\x11\x00\x15\x00\x11\x00\x12\x00\x10\x00\x12\x00\x12\x00\x0e\x00\x10\x00\x12\x00\x12\x00\x0e\x00\x0c\x00\x0f\x00\x0e\x00\x0e\x00\x0f\x00\x0f\x00\x0e\x00\x0f\x00\x11\x00\x12\x00\x12\x00\x14\x00\x13\x00\x12\x00\x10\x00\x0c\x00\x11\x00\r\x00\x15\x00\x0b\x00\x13\x00\x12\x00\x14\x00\x0f\x00\x16\x00\x0f\x00\x11\x00\r\x00\x0f\x00\r\x00\x11\x00\r\x00\x11\x00\n\x00\x0c\x00\r\x00\x13\x00\x0f\x00\x15\x00\x0e\x00\x14\x00\x0c\x00\x15\x00\x0e\x00\x10\x00\r\x00\x0e\x00\x0e\x00\x0c\x00\x0c\x00\x0e\x00\x11\x00\x12\x00\x10\x00\x13\x00\x11\x00\x16\x00\x0f\x00\x16\x00\x11\x00\x16\x00\x14\x00\x18\x00\x17\x00\x19\x00\x16\x00\x16\x00\x14\x00\x16\x00\x10\x00\x17\x00\x14\x00\x13\x00\x12\x00\x11\x00\r\x00\x12\x00\n\x00\x0f\x00\x0b\x00\x0f\x00\x0c\x00\x0e\x00\x0c\x00\r\x00\x0f\x00\x12\x00\r\x00\x13\x00\x11\x00\x12\x00\x0b\x00\x0f\x00\x0f\x00\x0f\x00\x0b\x00\x0f\x00\x0e\x00\r\x00\n\x00\x0b\x00\x0f\x00\x10\x00\t\x00\x10\x00\x0c\x00\x0e\x00\x10\x00\x11\x00\x0b\x00\x11\x00\x0e\x00\x12\x00\x07\x00\x15\x00\n\x00\x14\x00\r\x00\x13\x00\r\x00\x13\x00\t\x00\x0e\x00\x0c\x00\x11\x00\x0c\x00\x11\x00\x0c\x00\x12\x00\t\x00\x0e\x00\x0e\x00\x13\x00\r\x00\x0e\x00\x0c\x00\x0c\x00\x07\x00\x0c\x00\t\x00\t\x00\n\x00\x0c\x00\x08\x00\x0b\x00\x08\x00\x0b\x00\n\x00\x0c\x00\x05\x00\x08\x00\x05\x00\x03\x00\x07\x00\x06\x00\x01\x00\x05\x00\x06\x00\x07\x00\x07\x00\x06\x00\x08\x00\x07\x00\x04\x00\x06\x00\x06\x00\x08\x00\x00\x00\x05\x00\x07\x00\n\x00\x06\x00\x0b\x00\t\x00\x08\x00\x06\x00\x0b\x00\x03\x00\x08\x00\x03\x00\x06\x00\x05\x00\x02\x00\x03\x00\x03\x00\x05\x00\x02\x00\x05\x00\x05\x00\x00\x00\x03\x00\x04\x00\x04\x00\x00\x00\x08\x00\x05\x00\x07\x00\x03\x00\x05\x00\x02\x00\x04\x00\xff\xff\x07\x00\x03\x00\n\x00\x02\x00\x0c\x00\x05\x00\n\x00\x03\x00\x08\x00\x01\x00\x05\x00\x04\x00\x04\x00\x04\x00\x08\x00\x00\x00\x06\x00\x04\x00\x04\x00\x04\x00\x03\x00\x02\x00\x04\x00\x02\x00\x07\x00\x01\x00\x03\x00\x03\x00\x03\x00\x03\x00\x01\x00\x04\x00\xfe\xff\x01\x00\x05\x00\x04\x00\x06\x00\x02\x00\x02\x00\x04\x00\x08\x00\x04\x00\n\x00\x07\x00\n\x00\x03\x00\x08\x00\x04\x00\n\x00\xff\xff\x04\x00\x01\x00\x05\x00\x00\x00\x02\x00\x03\x00\x03\x00\x03\x00\x03\x00\xfe\xff\x00\x00\xff\xff\x04\x00\x00\x00\x01\x00\x01\x00\x01\x00\xfe\xff\x02\x00\x00\x00\x00\x00\xfe\xff\xfe\xff\xfe\xff\xfe\xff\xfc\xff\xfd\xff\x01\x00\x01\x00\xfd\xff\x02\x00\x01\x00\x01\x00\xfa\xff\x04\x00\xff\xff\x06\x00\x00\x00\x02\x00\xff\xff\x01\x00\xfc\xff\xff\xff\xfd\xff\xfe\xff\x00\x00\xff\xff\x01\x00\x01\x00\x02\x00\x06\x00\xfd\xff\x00\x00\x01\x00\xfd\xff\xfe\xff\xfc\xff\xfe\xff\xfc\xff\xff\xff\x00\x00\x02\x00\x03\x00\xff\xff\x00\x00\x02\x00\x01\x00\xfd\xff\x04\x00\xfc\xff\x01\x00\xf9\xff\x02\x00\xfb\xff\xfa\xff\xfa\xff\xfb\xff\xfe\xff\xff\xff\xfb\xff\xfb\xff\xfc\xff\xfe\xff\xfb\xff\xfe\xff\xf8\xff\xfa\xff\xf9\xff\xf8\xff\xfa\xff\xf7\xff\xfa\xff\xf7\xff\xf7\xff\xf5\xff\xfa\xff\xf8\xff\xf7\xff\xfa\xff\xf4\xff\xf9\xff\xf4\xff\xf7\xff\xf7\xff\xf7\xff\xf5\xff\xf5\xff\xf6\xff\xf7\xff\xf4\xff\xf4\xff\xf5\xff\xf6\xff\xfa\xff\xfc\xff\xfb\xff\xf5\xff\xf8\xff\xf0\xff\xf9\xff\xf5\xff\xf0\xff\xf4\xff\xf5\xff\xf6\xff\xf6\xff\xf8\xff\xf4\xff\xf7\xff\xf3\xff\xfa\xff\xf0\xff\xf6\xff\xf2\xff\xf7\xff\xf5\xff\xf8\xff\xf5\xff\xf9\xff\xf3\xff\xf7\xff\xf3\xff\xf6\xff\xf1\xff\xf5\xff\xf6\xff\xf6\xff\xf1\xff\xf7\xff\xf1\xff\xf6\xff\xee\xff\xf5\xff\xf2\xff\xf4\xff\xef\xff\xf4\xff\xf0\xff\xf4\xff\xf0\xff\xf5\xff\xf5\xff\xf7\xff\xf3\xff\xf7\xff\xef\xff\xf2\xff\xee\xff\xf0\xff\xf3\xff\xf4\xff\xf6\xff\xf4\xff\xf2\xff\xf5\xff\xf5\xff\xf3\xff\xf3\xff\xf5\xff\xf4\xff\xfa\xff\xef\xff\xf5\xff\xf0\xff\xf6\xff\xf1\xff\xf9\xff\xf0\xff\xf7\xff\xf4\xff\xf8\xff\xf5\xff\xf5\xff\xed\xff\xf3\xff\xf1\xff\xf4\xff\xf2\xff\xef\xff\xf1\xff\xee\xff\xf1\xff\xf0\xff\xf2\xff\xf0\xff\xf0\xff\xef\xff\xf4\xff\xf1\xff'
    while True:
        if not q2.empty() :
            item = q2.get()
            print("item : ", item)
            if item is False:
                print("if kısmına girildi")
                break

        data = stream.read(CHUNK)
        rms = audioop.rms(data, 2)
        print("processing")
        """q.put(data)"""
        if rms>80:
            q.put(data)
        else:
            q.put(zeroSound2)
            """frames2.append(data)"""
    print("While döngüsünden çıkıldı")








"""x = np.fromstring(data,dtype = np.int16)"""
"""d = np.frombuffer(data, np.int16).astype(np.float)"""

""""if not state.get():
        break"""

"""print("While döngüsüne girildi")
if state.get() is not None:
    item = state.get()
    print(item)
    if(item == False):
        break"""

"""print("Size : ", frames)
        stream.stop_stream()
        stream.close()
        p.terminate()

        wf = wave.open("output.wav", 'wb')
        wf.setnchannels(CHANNELS)
        wf.setsampwidth(p.get_sample_size(FORMAT))
        wf.setframerate(RATE)
        wf.writeframes(b''.join(myframes))
        wf.close()"""

"""def noiseSıfırla(noise):
    for i in range(0,2048):
        noise[i] = 0"""



"""    amplitude = 14731 / 32767

    dB = 20 * math.log10(0.44)

    i = 0
    peak = 0"""

"""data2 = np.fromstring(io.BytesIO(stream.read()), dtype=np.int16)"""
"""if rms > peak:
    peak = rms"""
"""Peak 10.000 civarı yapıyor. Çok abartılmadığı zaman"""
"""if (i == 10):
    print("Peak : ", peak)
    i=0"""

"""numpydata = np.frombuffer(data, dtype=np.int16)"""
"""noise_reduced = nr.reduce_noise(d,noise,prop_decrease=1.0, verbose=True)"""
"""print("Reduced Noise", len(d))"""
"""print("Multiprocessing...... RMS :  ", rms, "  D : ", d, "   Data : ", data, "   String  : ",x )"""
"""i += 1"""

"""data = np.fromstring(stream.read(CHUNK), dtype=np.int16)"""

"""    while True:
        if not state:
            beforeExit()
            break
        else:
            data = stream.read(CHUNK)
            x = np.fromstring(data, dtype=np.int16)
            d = np.frombuffer(data, np.int16).astype(np.float)
            rms = audioop.rms(data, 2)
            print("processing")
            if rms > 170:
                frames.append(data)
            else:
                frames.append(zeroSound)"""

"""    noise: list[Any] = []"""